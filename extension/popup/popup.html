<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Graphiti Popup</title>
    <link rel="stylesheet" href="../styles/franky.css" />
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <main class="franky-panel popup-root">
      <header class="popup-header">
        <div>
          <h1>Graphiti</h1>
          <p class="muted">Tag &amp; publish directly to your Pubky homeserver.</p>
        </div>
        <button class="franky" id="sign-in">Sign in</button>
      </header>

      <section class="section">
        <label class="field">
          <span>Homeserver</span>
          <input class="franky" id="homeserver" placeholder="https://app.pubky.network" />
        </label>
        <p class="muted info" id="session-info">Not signed in</p>
      </section>

      <section class="section">
        <label class="field">
          <span>Tags</span>
          <input class="franky" id="tags" placeholder="Add comma-separated tags" />
        </label>
        <label class="field">
          <span>Comment</span>
          <textarea class="franky" id="comment" rows="3" placeholder="Optional context"></textarea>
        </label>
        <div class="actions">
          <button class="franky" id="publish">Publish to Pubky</button>
          <button class="franky secondary" id="bookmark">Save bookmark</button>
        </div>
      </section>

      <section class="section">
        <h2>Pending publishes</h2>
        <ul class="list-reset" id="pending-list"></ul>
        <button class="franky secondary" id="retry" disabled>Retry queue</button>
      </section>

      <section class="section">
        <h2>Bookmarks</h2>
        <ul class="list-reset" id="bookmark-list"></ul>
      </section>
    </main>
    <dialog id="qr-dialog">
      <article class="franky-panel">
        <header class="qr-header">
          <h2>Scan to sign in</h2>
          <button id="close-qr" aria-label="Close">Ã—</button>
        </header>
        <img id="qr-image" alt="Pubky Ring QR" />
        <p class="muted">Use the Pubky mobile app to scan this code and approve the session.</p>
      </article>
    </dialog>
    <script type="module" src="popup.js"></script>
  </body>
</html>
